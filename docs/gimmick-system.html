<!-- HTML header for doxygen 1.9.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Courel</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Courel<span id="projectnumber">&#160;0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('gimmick-system.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Gimmmick System</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md5">Gimmick lifespan types</a></li>
<li class="level1"><a href="#autotoc_md6">Examples set-up</a></li>
<li class="level1"><a href="#autotoc_md7">BPMs</a></li>
<li class="level1"><a href="#autotoc_md8">Scrolls</a></li>
<li class="level1"><a href="#autotoc_md9">TickCounts</a></li>
<li class="level1"><a href="#autotoc_md10">Combos</a></li>
<li class="level1"><a href="#autotoc_md11">Speeds</a></li>
<li class="level1"><a href="#autotoc_md12">Stops</a></li>
<li class="level1"><a href="#autotoc_md13">Delays</a></li>
<li class="level1"><a href="#autotoc_md14">Warps</a></li>
<li class="level1"><a href="#autotoc_md15">Fakes</a></li>
<li class="level1"><a href="#autotoc_md16">Gimmick combination</a></li>
</ul>
</div>
<div class="textblock"><p>Gimmicks are means to modify the interpretation of the score at runtime. They are a very powerful tool which, when used properly, can be used to create great visual effects in the game without needing to modify the score itself. It also comes in handy for songs with unstable BPMs, or songs with pauses inbetween sections. <a class="el" href="namespaceCourel.html">Courel</a> gimmick specification is inpired by Stepmania 5, so if you are familiar with it, you will feel right at home. <a class="el" href="namespaceCourel.html">Courel</a> asks the gimmicks of a chart through the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface that must be implemented by the user.</p>
<p>Each gimmick is retrieved by a method in the interface, and they return a list of <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> objects. Each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> is associated with a beat (which normally determines where the gimmick starts), and a value (which represents the final state of that gimmick, or a state maintained through time). Each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> defines the state of a gimmick at a specific point (beat) w.r.t. to the score, and each one works in its own way, so the meaning of the value is different for each gimmick.</p>
<p>Down below we will explain visually what the gimmicks are about, but you can always check out the method documentations to learn more. However, if you really feel like having an in-depth understanding of the gimmick system, you should definitely check out <a class="el" href="the-math-behind-gimmicks.html">The Math Behind Gimmicks</a>. It goes through every gimmick by providing examples, and detailing the math behind them. Indeed, <a class="el" href="namespaceCourel.html">Courel</a> is an open-source implementation of the mathematical expressions found in it.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Gimmick lifespan types</h1>
<p>The span of time or beats each gimmick affects to is differently. Also, some gimmicks are mandatory &ndash; need at minimum one <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> so the score can be generated properly. Think for example of a score without the BPMs gimmick properly set. There is no way of computing when and where the notes must be actioned or placed.</p>
<p>In general, depending on the nature of the gimmick, we separate them into three categories:</p>
<ol type="1">
<li><p class="startli"><b>Greedy</b>: Most gimmicks are greedy. Each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> defining a greedy gimmick try to span as far as possible (in both directions in time) from the beat they are placed at. For example, if a greedy gimmick is defined only with one <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> value, that value will span from the defined beat until the end of the song (actually, \(\infty\)), and vice versa, from the beginning of the song ( \(-\infty\)) until that beat. On the left hand side in the picture below you can see the only <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> of a greedy gimmick, whose beat is 1 (dotted line). Notice that the blue line (which represents the value) spans from \(-\infty\) to \(\infty\).</p>
<p class="startli"><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/greedy-gimmicks.png" alt="Greedy gimmicks" width="650" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<p class="startli">When two or more <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a>s are defined, the span to the right of the \(n\)-th <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> will be delimited by the beat of the \(n+1\)-th <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> (the next gimmick). On the right hand side in the picture above we have a <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> at beat 1, and another at beat 3 (dotted lines), thus the span of the first gimmick is from beat \(-\infty\) to beat 3, and the span of the second gimmick is from beat 3 to beat \(\infty\).</p>
<p class="startli">The following gimmicks are greedy:</p><ul>
<li>BPMs</li>
<li>Scrolls</li>
<li>TickCounts</li>
<li>Combos</li>
</ul>
</li>
<li><p class="startli"><b>Transitional Greedy</b>: Transitional greedy gimmicks behave in the same fashion as greedy gimmicks. Each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> will try to span as far as possible until another <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> is found. However, they offer a linear transition from the value defined in the \(n-1\)-th <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> to the \(n\)-th <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a>. For example, if we have a <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> at beat 1 with value 1 and transition time 0, and another at beat 2 with value 2 and transition time 1 (in beats), the value of the gimmick at beat 2.5 will be 1.5. Only speed gimmicks are transitional greedy. You can see this in the picture below.</p>
<p class="startli"><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/transitional-greedy-gimmicks.png" alt="Greedy gimmicks" width="300" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
</li>
<li><b>Range-based</b>: Range-based gimmicks affect only to a specific range of beats. When defining a <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> the beat value will be the start of the range, and the value will be the span of time (either in seconds or beats, depending on the actual gimmick). For example, if we have a <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> at beat 1 with value 2, the gimmick will affect from beat 1 to beat 3 (beat 1 included, beat 3 excluded, if not stated otherwise). The following gimmicks are range-based:<ul>
<li>Stops</li>
<li>Delays</li>
<li>Warps</li>
<li>Fakes</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md6"></a>
Examples set-up</h1>
<p>In order to explain the gimmicks in a more visual way, all the examples below will be based on a score with 5 lanes and a total of 12 <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1TapNote.html">TapNote</a>s, and 1 <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1PiuStyleHold.html">PiuStyleHold</a>. Actually, we will use <a href="https://github.com/piured/engine">piured-engine</a>, a Pump It Up simulator that uses <a class="el" href="namespaceCourel.html">Courel</a> as its sequencer to demonstrate how gimmicks work. The score itself is shown below:</p>
<div class="fragment"><div class="line">[</div>
<div class="line">  [</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;]</div>
<div class="line">  ],</div>
<div class="line">  [</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;1&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;]</div>
<div class="line">  ],</div>
<div class="line">  [</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;2&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;0&quot;, &quot;0&quot;, &quot;3&quot;, &quot;0&quot;, &quot;0&quot;],</div>
<div class="line">    [&quot;1&quot;, &quot;0&quot;, &quot;0&quot;, &quot;0&quot;, &quot;1&quot;]</div>
<div class="line">  ]</div>
<div class="line">]</div>
</div><!-- fragment --><p>This score is in JSON format, and it is actually the result of parsing Stepmania's SSC NOTES section with <a href="https://github.com/piulin/pegjs-ssc-parser">pegjs-ssc-parser</a>. In this JSON-like SSC notation, the first level array represents the score. Each second level array represents 4 beats where notes can be placed at. Thus, the first sencond level array consists of notes placed at beats 0, 1, 2, and 3, and similarly the second second level array consists of notes placed at beats 4, 5, 6, and 7. Each position in the third level arrays represent the notes at each lane (we have 5), and the values in them represent the type of note placed at that beat and lane:</p>
<ul>
<li><code>"0"</code> stands for no note</li>
<li><code>"1"</code> stands for a <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1TapNote.html">TapNote</a>.</li>
<li><code>"2"</code> stands for the beginning of a <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1PiuStyleHold.html">PiuStyleHold</a>.</li>
<li><code>"3"</code> stands for the end of a <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1PiuStyleHold.html">PiuStyleHold</a>.</li>
</ul>
<p>The default gimmick configuration, also shown in a similar JSON-like SSC format, is the following:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;BPMs&quot;: [[0, 60]],</div>
<div class="line">  &quot;stops&quot;: [],</div>
<div class="line">  &quot;delays&quot;: [],</div>
<div class="line">  &quot;warps&quot;: [],</div>
<div class="line">  &quot;tickCounts&quot;: [[0, 1]],</div>
<div class="line">  &quot;combos&quot;: [[0, 1]],</div>
<div class="line">  &quot;speeds&quot;: [[0, 1, 0, 0]],</div>
<div class="line">  &quot;scrolls&quot;: [[0, 1]],</div>
<div class="line">  &quot;fakes&quot;: [],</div>
<div class="line">}</div>
</div><!-- fragment --><p>They keys in this dictionary indicate the target gimmick, whereas the values correspond to the list of <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a>s associated with them. For example, the BPMs gimmick is defined with one <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> whose beat is defined in the first position of the second level array (<code>0</code>), and value is defined in the second position (<code>60</code>). This applies to all gimmicks, except for speeds, which are defined with four values: beat, value, transition time, and transition type. It is not necessary to understand what they do right away, as we will go through each one just below.</p>
<p>This chart (score+gimmicks) results in the following interpretation of the score:</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/score.gif" alt="BPMs gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<p>The gimmick system in <a class="el" href="namespaceCourel.html">Courel</a> is Stepmania 5-compatible, including the following gimmicks:</p>
<h1><a class="anchor" id="autotoc_md7"></a>
BPMs</h1>
<p>BPM (or Beats Per Minute) is a measure of the tempo of any song. In short, is the amount of beats that occur in a minute. This value is key to keep your notes in sync with the music! A badly set BPM value is going to ruin the whole playing experience in any rhythm game. In <a class="el" href="namespaceCourel.html">Courel</a>, the definition of the BPM is a gimmick itself because it is allowed to set multiple BPMs for a song (so-called BPM changes). This is useful for songs with multiple sections with different tempos, or to create some visual effects.</p>
<p>Note that the BPMs gimmick is a greedy gimmick. If your song does not contain BPM changes, you need to specify anyways one "global" BPM value. This is done by returning a list with one <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> item in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a33643b9a3607556b31da93eaca98db99">GetBpms</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface. The value of the <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> returned is the BPM value, and the beat is traditionally set to 0, although any other value will work just fine. You can define as many BPM changes as wished by adding <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a>s at the beats where the BPM change occurs, and setting the value to the new BPM value.</p>
<p>In the example below, we just modified the BPMs gimmick definition by adding a BPMs change at beat 4 with value 120:</p>
<div class="fragment"><div class="line">&quot;BPMs&quot;: [[0, 60], [4, 120]],</div>
</div><!-- fragment --><p>As seen below, when the song time reaches beat 4, the pace at which the notes scroll increases from 60 BPM to 120 BPM.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-bpms-gimmick.gif" alt="BPMs gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md8"></a>
Scrolls</h1>
<p>Scrolls are a way to modify the <em>relative position</em> at which the notes are placed in the scrolling axes ( \(w\) value) as well as the scrolling pace.</p>
<p>The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the rate of scrolling w.r.t. to the current BPM value, and its relative position is adjusted by that rate so the notes appear in the right position w.r.t. the judging row. Therefore a value of 1 will not have any visible effect because we would be scrolling exactly at the current BPM value, and the position will not be adjusted. Values closer to 0 will make notes scroll slower and appear closer together, whilst values greater than 1 will make notes scroll faster and appear further apart. Negative values will make notes scroll backwards.</p>
<p>A similar effect can actually be done by creating artificial BPM changes, but in most cases this is pretty inconvenient. Remember that the BPM is a measure of the tempo of the song, and it must stay always sync with the music. When adding BPM changes, you need to rewrite the all the notes after the BPM change so they can be interacted with in the same beat, and in some extreme cases, adding too many BPM changes (specially with weird values) makes the score harder to read and maintain. There is also some some scenarios where you cannot achieve even the same results by adding BPM changes than with scrolls.</p>
<p>Scrolls are greedy gimmicks. If you don't want anything to do with them, just return in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a8d84b4328a4535fed6ce960d92ae4bbe">GetScrolls</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface a list with one <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> with the beat set 0 zero and the value set to 1.</p>
<p>In the example below we modified the Scrolls gimmick definition by adding a scroll change at beat 4 with a value of 0, and at beat 7 with a value of 0.5:</p>
<div class="fragment"><div class="line">&quot;scrolls&quot;: [</div>
<div class="line">  [0, 1],</div>
<div class="line">  [4, 0],</div>
<div class="line">  [7, 0.5]</div>
<div class="line">]</div>
</div><!-- fragment --><p>The resulting effect is shown below. Note that from beat 4 to 7 all the notes are crunched into the same position in the scrolling axis due to the scroll value of 0. However, notes are still judged normally at beats 4, 5, 6, and 7, respectively. From beat 7 on, the scrolling and notes' relative position are reduced by a factor of 0.5.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-scroll-gimmick.gif" alt="Scrolls gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md9"></a>
TickCounts</h1>
<p>TickCounts is a greedy gimmick affecting only <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1PiuStyleHold.html">PiuStyleHold</a>s. As explained before, <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1PiuStyleHold.html">PiuStyleHold</a>s generate judgment events at a certain rate in order to mimmick the behaviour of holds in the Pump It Up original arcade. Under the hood, this is done by generating many <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1HoldNote.html">HoldNote</a>s with <a class="el" href="namespaceCourel_1_1Loader_1_1Notes.html#adc71310d1cc0daa7e0ef526d2fd8bccaa7acdf85c69cc3c5305456a293524386e">Hidden</a> visibility. The rate at which these <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1HoldNote.html">HoldNote</a>s are generated is determined by the <code>TickCount</code> gimmick. The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the rate of <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1HoldNote.html">HoldNote</a>s generated per beat. A value of 1 will generate one <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1HoldNote.html">HoldNote</a> per beat, a value of 2 will generate two <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1HoldNote.html">HoldNote</a>s per beat, and so on. Negative values are not allowed.</p>
<p>If your game uses <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1PiuStyleHold.html">PiuStyleHold</a>s you must return an non-empty list in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a8671bba1aa9f578e682d3605692c6d06">GetTickCounts</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface.</p>
<p>In the example below, we modified the TickCounts gimmick definition by adding a tick count change at beat 9 with a value of 16:</p>
<div class="fragment"><div class="line">&quot;tickCounts&quot;: [</div>
<div class="line">  [0, 1],</div>
<div class="line">  [9, 16]</div>
<div class="line">]</div>
</div><!-- fragment --><p>Note how at the middle of the hold (beat 9), the amount of judgments generated increases from 1 to 16 per beat.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-tickcounts-gimmick.gif" alt="TickCounts gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md10"></a>
Combos</h1>
<p>Combos is a greedy gimmick that affects the combo contribution property of <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1Hold.html">SingleNote</a>s which can be accesed through the method <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1SingleNote.html#a6c48bec7740e635e17ac4f79de32ab77">GetCombo</a>. It is important that with independence of the combos value, notes are always judged once. The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the amount of combo contribution that each <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1SingleNote.html">SingleNote</a> will have. A value of 1 will make each <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1SingleNote.html">SingleNote</a> contribute 1 to the combo, a value of 2 will make each <a class="el" href="classCourel_1_1Loader_1_1Notes_1_1SingleNote.html">SingleNote</a> contribute 2 to the combo, and so on.</p>
<p>You must always return a non-empty list in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a62613951d52c65e2ade402cdbaa93f83">GetCombos</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface, even if you are not using this property.</p>
<p>In the example below, we modified the Combos gimmick definition by adding a combo change at beat 4 with a value of 2:</p>
<div class="fragment"><div class="line">&quot;combos&quot;: [</div>
<div class="line">  [0, 1],</div>
<div class="line">  [4, 2]</div>
<div class="line">]</div>
</div><!-- fragment --><p>Note how the combo contribution of each note is doubled from beat 4 on.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-combos-gimmick.gif" alt="Combos gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md11"></a>
Speeds</h1>
<p>Speeds is a transitional greedy gimmick that affects the drawing positions of notes as well as the scrolling pace at runtime. Unlike Scrolls, it modifies the <em>absolute position</em> of the notes in the scrolling axis globally (all notes). The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the rate of scrolling w.r.t. to an unitary value (which will be discussed later on) as well as the spacing of the notes. Augmenting the speed value will cause the scroll rate to speed up, and so the spacing between notes.</p>
<p>Since Speeds gimmicks are transitional greedy, they are able to transition from one value to another smoothly (linearly). The transition time can be specified in terms of beats or seconds, although the most common way is to use beats. You are allowed to set the transition time to 0, which will cause the transition to be instantaneous. Negative speed values will cause the scrolling axis to reverse.</p>
<p>You must always return a non-empty list in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a9c258050db94034952d305e22ffdb50c">GetSpeeds</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface. If you are not using this gimmick, just return a list with one <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> with the beat set to 0, the value set to your desired global speed, the transition time set to 0, and the transition type set to 0.</p>
<p>In the example below, we modified the speeds in the following fashion:</p>
<div class="fragment"><div class="line">&quot;speeds&quot;: [</div>
<div class="line">  [0, 1, 0, 0],</div>
<div class="line">  [1, 0.25, 1, 0],</div>
<div class="line">  [3, 0, 1, 0],</div>
<div class="line">  [5, -0.5, 0.5, 0],</div>
<div class="line">  [7, 4, 0.5, 0],</div>
<div class="line">  [9, 1, 1, 0]</div>
<div class="line">]</div>
</div><!-- fragment --><p>where the first element of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> is the beat, the second element is the value, the third element is the transition time, and the fourth element is the transition type (<code>0</code> stands for beat). The resulting effect is shown below.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-speeds-gimmick.gif" alt="Speeds gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md12"></a>
Stops</h1>
<p>Stops is a range-based gimmick which artificially stops the song time for a certain amount of seconds. Any note placed at the stopped beat will be judged normally. Notes coming after the stopped beat will be judged normally after the stop has ended. The best use case for Stops (and also Delays) is to sync the BPM with a song, when the music has changed its tempo, or when the music has stopped at some point (e.g. a pause).</p>
<p>The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the amount of seconds the song time will be stopped. A value of 1 will stop the song time for 1 second, a value of 2 will stop the song time for 2 seconds, and so on. Negative values are not allowed.</p>
<p>You must always return a non-empty list in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a5781de6b6ea004e68e14f3dabb98c6b1">GetStops</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface. If you are not using this gimmick, just return an empty list.</p>
<p>In the example below (left hand side, in Delays section), we modified the Stops gimmick definition by adding a stop at beat 3 with a value of 1, and at beat 9 with a value of 0.5:</p>
<div class="fragment"><div class="line">&quot;stops&quot;: [</div>
<div class="line">  [2, 1]</div>
<div class="line">  [9, 0.5]</div>
<div class="line">]</div>
</div><!-- fragment --><p>Notice how the stopped song time stops for 1 second at beat 3. Also, note that the note placed at beat 3 is judged before the stops takes place.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Delays</h1>
<p>Delays is a range-based gimmick which operates exactly the same as Stops. The only difference is that as its name might suggest, the song time is delayed instead of stopped. This causes that a note placed at the beat where a delay occurs, will be judged right after the delay has ended. Similarly to notes, judged coming after the delayed beat will be judged normally after the delay has ended. The use case for Delays is the same as for Stops.</p>
<p>The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the amount of seconds the song time will be delayed w.r.t. to the beat it is placed at. A value of 1 will delay the song time for 1 second, a value of 2 will delay the song time for 2 seconds, and so on. Negative values are not allowed.</p>
<p>You must always return a non-empty list in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#aaf075244681ac4b8a8e2cbf88ed7bd36">GetDelays</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface. Charts not using this gimmick shall return an empty list.</p>
<p>To show the difference w.r.t. to the Stops gimmick above, we modified the Delays gimmick by adding exactly the same delays as in the Stops gimmick:</p>
<div class="fragment"><div class="line">&quot;delays&quot;: [</div>
<div class="line">  [2, 1]</div>
<div class="line">  [9, 0.5]</div>
<div class="line">]</div>
</div><!-- fragment --><p>On the right hand side you can see that the note placed at beat 3 is judged after the delay has ended. Since we are using a BPM of 60, the delay of 1 second, the note will be judged as if it was placed at beat 4.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-stops-gimmick.gif" alt="Stops gimmick" width="370" class="inline"/> <img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-delays-gimmick.gif" alt="Delays gimmick" width="370" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md14"></a>
Warps</h1>
<p>Warps is a range-based gimmick that allows to skip a certain amount of beats in the score. Notes placed inside the range defined by the <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> become <a class="el" href="namespaceCourel_1_1Loader_1_1Notes.html#adc71310d1cc0daa7e0ef526d2fd8bccaa52a96508c39536f0c2ef43b19a0a1e0e">Fake</a> notes, therefore they will not be judged (obviously, because they cannot be actioned in time). Notes coming after the warped beat will be judged normally. Warps are mostly used to create visual effects.</p>
<p>The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the amount of beats that will be warped over. A value of 1 will skip 1 beat, a value of 2 will skip 2 beats, and so on. Negative values are not allowed.</p>
<p>You must always return a non-empty list in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a50bf1e973975b28247d0e4fec4855174">GetWarps</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface. Charts not using this gimmick shall return an empty list.</p>
<p>In the example below, we modified the Warps gimmick definition by adding a warp at beat 3 with a value of 4, so will it skill skip 4 beats.</p>
<div class="fragment"><div class="line">&quot;warps&quot;: [[3, 4]]</div>
</div><!-- fragment --><p>Notice how notes placed at beat 3, 4, 5, and 6 appear disappear and the hold appears in less than the flick of a finger, creating the ilusion of note replacement.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-warp-gimmick.gif" alt="Warp gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md15"></a>
Fakes</h1>
<p>The last gimmick is Fakes, which is a range-based gimmick that allows to assign <a class="el" href="namespaceCourel_1_1Loader_1_1Notes.html#adc71310d1cc0daa7e0ef526d2fd8bccaa52a96508c39536f0c2ef43b19a0a1e0e">Fake</a> visibility to notes by range. Notes placed inside the range defined by each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> become <a class="el" href="namespaceCourel_1_1Loader_1_1Notes.html#adc71310d1cc0daa7e0ef526d2fd8bccaa52a96508c39536f0c2ef43b19a0a1e0e">Fake</a> notes, therefore they will not be judged. Notes coming after the fake beat will be judged normally. Similarly to Warps, Fakes are mostly used to create visual effects.</p>
<p>The value of each <a class="el" href="classCourel_1_1Loader_1_1GimmickSpecs_1_1GimmickPair.html">GimmickPair</a> determines the amount of beats that will be faked over w.r.t. the beat it is placed at. A value of 1 will fake 1 beat, a value of 2 will fake 2 beats, and so on. Negative values are not allowed.</p>
<p>You must always return a non-empty list in the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html#a85539a1c66ecb06fa6c9575c1401f7fd">GetFakes</a> method of the <a class="el" href="interfaceCourel_1_1Loader_1_1IChart.html">IChart</a> interface. Charts not using this gimmick shall return an empty list.</p>
<p>To show the difference w.r.t. to the Warps gimmick above, we added a Fake gimmick at beat 3 with a value of 4, so notes placed at beats 3, 4, 5, and 6 become <a class="el" href="namespaceCourel_1_1Loader_1_1Notes.html#adc71310d1cc0daa7e0ef526d2fd8bccaa52a96508c39536f0c2ef43b19a0a1e0e">Fake</a> notes (but they will not be warped over).</p>
<div class="fragment"><div class="line">&quot;fakes&quot;: [[3, 4]]</div>
</div><!-- fragment --><p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/example-fakes-gimmick.gif" alt="Warp gimmick" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md16"></a>
Gimmick combination</h1>
<p>Gimmicks can be combined in any way you want to create wonderful visual effects. Down below there are some examples of the things that some stepmakers can achieve.</p>
<p><img src="https://raw.githubusercontent.com/piured/courel/main/Imgs/Tutorial/fav-gimmicks.gif" alt="Fav gimmicks" width="400" style="display: block; margin: 0 auto; text-align: center;" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
